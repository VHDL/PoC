

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wrapper Script Hook Files &mdash; The PoC-Library 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-reports.089ed2e62f89368aa21ac7591d90c12a.css?v=83177741" />
      <link rel="stylesheet" type="text/css" href="../_static/css/override.css?v=6fa0b579" />

  
    <link rel="shortcut icon" href="../_static/The-PoC-Library-FavIcon.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=58fbf978"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="File Formats" href="FileFormats/index.html" />
    <link rel="prev" title="List of Supported Boards" href="ListOfBoards.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/The-PoC-Library-Icon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../WhatIsPoC/index.html">What is PoC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../QuickStart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GetInvolved/index.html">Get Involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licenses/License.html">Apache License 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="Licenses/Doc-License.html">Creative Commons Attribution 4.0 International</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../UsingPoC/index.html">Using PoC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Interfaces/index.html">IP Core Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../IPCores/index.html">IP Core Documentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Miscelaneous/ThirdParty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ConstraintFiles/index.html">Constraint Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ToolChains/index.html">Tool Chain Specifics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References and Reports</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../unittests/index.html">Unittest Summary Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="CommandReference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="Database.html">IP Core Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PyInfrastructure/index.html">Python Infrastructure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="more.html">More ...</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ListOfDevices.html">List of Supported FPGA Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="ListOfBoards.html">List of Supported Boards</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Wrapper Script Hook Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flexlm">FlexLM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="FileFormats/index.html">File Formats</a></li>
<li class="toctree-l2"><a class="reference internal" href="NamingConventions.html">Naming Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="KnownIssues.html">Known Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="Licenses/index.html">Local License Copies</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog/index.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The PoC-Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="more.html">More References</a></li>
      <li class="breadcrumb-item active">Wrapper Script Hook Files</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/References/WrapperScriptHookFiles.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <style type="text/css">
  span.bolditalic {font-weight: bold; font-style: italic; }
  span.underline {text-decoration: underline; }
  span.strike {text-decoration: line-through; }
  span.xlarge {font-size: x-large; }
  span.colorred {color: #CC0000; }
  span.colorgreen {color: #009933; }
  span.colorblue {color: #0066FF; }
  span.colorpurple {color: #9900CC; }
</style><section id="wrapper-script-hook-files">
<h1>Wrapper Script Hook Files<a class="headerlink" href="#wrapper-script-hook-files" title="Link to this heading"></a></h1>
<p>The shell scripts <code class="docutils literal notranslate"><span class="pre">poc.ps1</span></code> and <code class="docutils literal notranslate"><span class="pre">poc.sh</span></code> can be customized though hook
files, which are executed before and after a PoC command is executed. The
wrapper scripts support 4 kinds of hook files:</p>
<blockquote>
<div><ul class="simple">
<li><p>VendorPreHookFile</p></li>
<li><p>ToolPreHookFile</p></li>
<li><p>VendorPostHookFile</p></li>
<li><p>ToolPostHookFile</p></li>
</ul>
</div></blockquote>
<p>The wrapper scans the arguments given to the front-end script and searches
for known commands. If one is found, the hook files are scheduled before and
after the execution of the wrapped executable. The hook files are sourced
into the current execution and need to be located in the <code class="docutils literal notranslate"><span class="pre">./py/Wrapper/Hooks</span></code>
directory.</p>
<p>A common use case is the preparation of special vendor or tool chain
environments. For example many EDA tools are using FlexLM as a license manager,
which needs the environments variable <code class="docutils literal notranslate"><span class="pre">LM_LICENSE_FILE</span></code> to be set. A
<code class="docutils literal notranslate"><span class="pre">PreHookFile</span></code> can be used to load/export such an environment variable.</p>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p><strong>Mentor QuestaSim on Linux:</strong></p>
<p>The PoC infrastructure is called with this command line:</p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>./poc.sh<span class="w"> </span>-v<span class="w"> </span>vsim<span class="w"> </span>PoC.arith.prng
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">vsim</span></code> command is recognized and the following events are scheduled:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./py/Wrapper/Hooks/Mentor.pre.sh</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./py/Wrapper/Hooks/Mentor.QuestaSim.pre.sh</span></code></p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">./py/PoC.py</span> <span class="pre">-v</span> <span class="pre">vsim</span> <span class="pre">PoC.arith.prng</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./py/Wrapper/Hooks/Mentor.QuestaSim.post.sh</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">./py/Wrapper/Hooks/Mentor.post.sh</span></code></p></li>
</ol>
</div></blockquote>
<p>If a hook files doesn’t exist, it’s skipped.</p>
<p><strong>Mentor QuestaSim on Windows:</strong></p>
<p>The PoC infrastructure is called with this command line:</p>
<div class="highlight-PowerShell notranslate"><div class="highlight"><pre><span></span><span class="p">.\</span><span class="n">poc</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-v</span> <span class="n">vsim</span> <span class="n">PoC</span><span class="p">.</span><span class="n">arith</span><span class="p">.</span><span class="n">prng</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">vsim</span></code> command is recognized and the following events are scheduled:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">.\py\Wrapper\Hooks\Mentor.pre.ps1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">.\py\Wrapper\Hooks\Mentor.QuestaSim.pre.ps1</span></code></p></li>
<li><p>Execute <code class="docutils literal notranslate"><span class="pre">.\py\PoC.py</span> <span class="pre">-v</span> <span class="pre">vsim</span> <span class="pre">PoC.arith.prng</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">.\py\Wrapper\Hooks\Mentor.QuestaSim.post.ps1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.</span> <span class="pre">.\py\Wrapper\Hooks\Mentor.post.ps1</span></code></p></li>
</ol>
</div></blockquote>
<p>If a hook files doesn’t exist, it’s skipped.</p>
</section>
<section id="flexlm">
<h2>FlexLM<a class="headerlink" href="#flexlm" title="Link to this heading"></a></h2>
<p>Many EDA tools require an environment variable called <code class="docutils literal notranslate"><span class="pre">LM_LICENSE_FILE</span></code>.
If no other tool settings are required, a common <code class="docutils literal notranslate"><span class="pre">FlexLM.sh</span></code> can be
generated. This file is used as a symlink target for each tool specific
hook file.</p>
<p><strong>Content of the `FlexLM.sh` script:</strong></p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">LM_LICENSE_FILE</span><span class="o">=</span><span class="m">1234</span>@flexlm.company.com
</pre></div>
</div>
<p><strong>Create symlinks:</strong></p>
<div class="highlight-Bash notranslate"><div class="highlight"><pre><span></span>ln<span class="w"> </span>-s<span class="w"> </span>FlexLM.sh<span class="w"> </span>Altera.Quartus.pre.sh
ln<span class="w"> </span>-s<span class="w"> </span>FlexLM.sh<span class="w"> </span>Mentor.QuestaSim.pre.sh
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ListOfBoards.html" class="btn btn-neutral float-left" title="List of Supported Boards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="FileFormats/index.html" class="btn btn-neutral float-right" title="File Formats" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2016 Technische Universitaet Dresden - Germany, Chair of VLSI-Design, Diagnostics and Architecture.
      <span class="lastupdated">Last updated on 20.06.2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>