

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PoC.cache.cpu &mdash; The PoC-Library 1.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-reports.089ed2e62f89368aa21ac7591d90c12a.css?v=83177741" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/override.css?v=6fa0b579" />

  
    <link rel="shortcut icon" href="../../_static/The-PoC-Library-FavIcon.png"/>
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=58fbf978"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="PoC.cache.mem" href="cache_mem.html" />
    <link rel="prev" title="PoC.cache" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/The-PoC-Library-Icon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../WhatIsPoC/index.html">What is PoC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../QuickStart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../GetInvolved/index.html">Get Involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../References/Licenses/License.html">Apache License 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../References/Licenses/Doc-License.html">Creative Commons Attribution 4.0 International</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Main Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../UsingPoC/index.html">Using PoC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Interfaces/index.html">IP Core Interfaces</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">IP Core Documentations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../common/index.html">common</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sim/index.html">sim</a></li>
<li class="toctree-l2"><a class="reference internal" href="../alt/index.html">alt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../arith/index.html">arith</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bus/index.html">bus</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">cache</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">cache_cpu</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operation">Operation</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#alignment-of-cache-memory-accesses">Alignment of Cache / Memory Accesses</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shared-and-memory-side-interface">Shared and Memory Side Interface</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cpu-side-interface">CPU Side Interface</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cache_mem.html">cache_mem</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_par.html">cache_par</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_par2.html">cache_par2</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_replacement_policy.html">cache_replacement_policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_tagunit_par.html">cache_tagunit_par</a></li>
<li class="toctree-l3"><a class="reference internal" href="cache_tagunit_seq.html">cache_tagunit_seq</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../comm/index.html">comm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dstruct/index.html">dstruct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fifo/index.html">fifo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io/index.html">io</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mem/index.html">mem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">misc</a></li>
<li class="toctree-l2"><a class="reference internal" href="../net/index.html">net</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sort/index.html">sort</a></li>
<li class="toctree-l2"><a class="reference internal" href="../xil/index.html">xil</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Miscelaneous/ThirdParty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ConstraintFiles/index.html">Constraint Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ToolChains/index.html">Tool Chain Specifics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References and Reports</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../unittests/index.html">Unittest Summary Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../References/CommandReference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../References/Database.html">IP Core Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../PyInfrastructure/index.html">Python Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../References/more.html">More ...</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../ChangeLog/index.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The PoC-Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">IP Core Documentations</a></li>
          <li class="breadcrumb-item"><a href="index.html">PoC.cache</a></li>
      <li class="breadcrumb-item active">PoC.cache.cpu</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/IPCores/cache/cache_cpu.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <style type="text/css">
  span.bolditalic {font-weight: bold; font-style: italic; }
  span.underline {text-decoration: underline; }
  span.strike {text-decoration: line-through; }
  span.xlarge {font-size: x-large; }
  span.colorred {color: #CC0000; }
  span.colorgreen {color: #009933; }
  span.colorblue {color: #0066FF; }
  span.colorpurple {color: #9900CC; }
</style><section id="poc-cache-cpu">
<span id="ip-cache-cpu"></span><h1>PoC.cache.cpu<a class="headerlink" href="#poc-cache-cpu" title="Link to this heading">ÔÉÅ</a></h1>
<aside class="sidebar">
<p class="sidebar-title">GitHub Links</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/src/cache/cache_cpu.vhdl"><img alt="Source Code on GitHub" src="../../_images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="extlink-pocsrc reference external" href="https://github.com/VHDL/The PoC-Library/blob/master/src/cache/cache_cpu.vhdl?ts=2">Sourcecode</a></p></li>
<li><p><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/tb/cache/cache_cpu_tb.vhdl"><img alt="Source Code on GitHub" src="../../_images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="extlink-poctb reference external" href="https://github.com/VHDL/The PoC-Library/blob/master/tb/cache/cache_cpu_tb.vhdl?ts=2">Testbench</a></p></li>
</ul>
</aside>
<p>This unit provides a cache (<a class="reference internal" href="cache_par2.html#ip-cache-par2"><span class="std std-ref">PoC.cache.par2</span></a>) together
with a cache controller which reads / writes cache lines from / to memory.
The memory is accessed using a <a class="reference internal" href="../../Interfaces/Memory.html#int-poc-mem"><span class="std std-ref">PoC.Mem Interface</span></a> interfaces, the related
ports and parameters are prefixed with <code class="docutils literal notranslate"><span class="pre">mem_</span></code>.</p>
<p>The CPU side (prefix <code class="docutils literal notranslate"><span class="pre">cpu_</span></code>) has a modified PoC.Mem interface, so that
this unit can be easily integrated into processor pipelines. For example,
let‚Äôs have a pipeline where a load/store instruction is executed in 3
stages (after fetching, decoding, ‚Ä¶):</p>
<ol class="arabic simple">
<li><p>Execute (EX) for address calculation,</p></li>
<li><p>Load/Store 1 (LS1) for the cache access,</p></li>
<li><p>Load/Store 2 (LS2) where the cache returns the read data.</p></li>
</ol>
<p>The read data is always returned one cycle after the cache access completes,
so there is conceptually a pipeline register within this unit. The stage LS2
can be merged with a write-back stage if the clock period allows so.</p>
<p>The stage LS1 and thus EX and LS2 must stall, until the cache access is
completed, i.e., the EX/LS1 pipeline register must hold the cache request
until it is acknowledged by the cache. This is signaled by <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code> as
described in Section Operation below. The pipeline moves forward (is
enabled) when:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pipeline_enable</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="ow">not</span> <span class="n">cpu_req</span><span class="p">)</span> <span class="ow">or</span> <span class="n">cpu_got</span><span class="p">;</span>
</pre></div>
</div>
<p>If the pipeline can stall due to other reasons, care must be taken to not
unintentionally executing the cache access twice or missing the read data.</p>
<p>Of course, the EX/LS1 pipeline register can be omitted and the CPU side
directly fed by the address caculator. But be aware of the high setup time
of this unit and high propate time for <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code>.</p>
<p>This unit supports only one outstanding CPU request. More outstanding
requests are provided by <a class="reference internal" href="cache_mem.html#ip-cache-mem"><span class="std std-ref">PoC.cache.mem</span></a>.</p>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">ÔÉÅ</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>REPLACEMENT_POLICY</p></td>
<td><p>Replacement policy of embedded cache. For supported
values see PoC.cache_replacement_policy.</p></td>
</tr>
<tr class="row-odd"><td><p>CACHE_LINES</p></td>
<td><p>Number of cache lines.</p></td>
</tr>
<tr class="row-even"><td><p>ASSOCIATIVITY</p></td>
<td><p>Associativity of embedded cache.</p></td>
</tr>
<tr class="row-odd"><td><p>CPU_ADDR_BITS</p></td>
<td><p>Number of address bits on the CPU side. Each address
identifies one memory word as seen from the CPU.
Calculated from other parameters as described below.</p></td>
</tr>
<tr class="row-even"><td><p>CPU_DATA_BITS</p></td>
<td><p>Width of the data bus (in bits) on the CPU side.
CPU_DATA_BITS must be divisible by 8.</p></td>
</tr>
<tr class="row-odd"><td><p>MEM_ADDR_BITS</p></td>
<td><p>Number of address bits on the memory side. Each
address identifies one word in the memory.</p></td>
</tr>
<tr class="row-even"><td><p>MEM_DATA_BITS</p></td>
<td><p>Width of a memory word and of a cache line in bits.
MEM_DATA_BITS must be divisible by CPU_DATA_BITS.</p></td>
</tr>
</tbody>
</table>
<p>If the CPU data-bus width is smaller than the memory data-bus width, then
the CPU needs additional address bits to identify one CPU data word inside a
memory word. Thus, the CPU address-bus width is calculated from:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CPU_ADDR_BITS</span><span class="o">=</span><span class="n">log2ceil</span><span class="p">(</span><span class="n">MEM_DATA_BITS</span><span class="o">/</span><span class="n">CPU_DATA_BITS</span><span class="p">)</span><span class="o">+</span><span class="n">MEM_ADDR_BITS</span>
</pre></div>
</div>
<p>The write policy is: write-through, no-write-allocate.</p>
</section>
<section id="operation">
<h2>Operation<a class="headerlink" href="#operation" title="Link to this heading">ÔÉÅ</a></h2>
<section id="alignment-of-cache-memory-accesses">
<h3>Alignment of Cache / Memory Accesses<a class="headerlink" href="#alignment-of-cache-memory-accesses" title="Link to this heading">ÔÉÅ</a></h3>
<p>Memory accesses are always aligned to a word boundary. Each memory word
(and each cache line) consists of MEM_DATA_BITS bits.
For example if MEM_DATA_BITS=128:</p>
<ul class="simple">
<li><p>memory address 0 selects the bits   0..127 in memory,</p></li>
<li><p>memory address 1 selects the bits 128..256 in memory, and so on.</p></li>
</ul>
<p>Cache accesses are always aligned to a CPU word boundary. Each CPU word
consists of CPU_DATA_BITS bits. For example if CPU_DATA_BITS=32:</p>
<ul class="simple">
<li><p>CPU address 0 selects the bits   0.. 31 in memory word 0,</p></li>
<li><p>CPU address 1 selects the bits  32.. 63 in memory word 0,</p></li>
<li><p>CPU address 2 selects the bits  64.. 95 in memory word 0,</p></li>
<li><p>CPU address 3 selects the bits  96..127 in memory word 0,</p></li>
<li><p>CPU address 4 selects the bits   0.. 31 in memory word 1,</p></li>
<li><p>CPU address 5 selects the bits  32.. 63 in memory word 1, and so on.</p></li>
</ul>
</section>
<section id="shared-and-memory-side-interface">
<h3>Shared and Memory Side Interface<a class="headerlink" href="#shared-and-memory-side-interface" title="Link to this heading">ÔÉÅ</a></h3>
<p>A synchronous reset must be applied even on a FPGA.</p>
<p>The memory side interface is documented in detail <a class="reference internal" href="../../Interfaces/Memory.html#int-poc-mem"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="cpu-side-interface">
<h3>CPU Side Interface<a class="headerlink" href="#cpu-side-interface" title="Link to this heading">ÔÉÅ</a></h3>
<p>The CPU (pipeline stage LS1, see above) issues a request by setting
<code class="docutils literal notranslate"><span class="pre">cpu_req</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu_write</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu_addr</span></code>, <code class="docutils literal notranslate"><span class="pre">cpu_wdata</span></code> and <code class="docutils literal notranslate"><span class="pre">cpu_wmask</span></code> as
in the <a class="reference internal" href="../../Interfaces/Memory.html#int-poc-mem"><span class="std std-ref">PoC.Mem Interface</span></a> interface. The cache acknowledges the request by
setting <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code> to ‚Äò1‚Äô. If the request is not acknowledged (<code class="docutils literal notranslate"><span class="pre">cpu_got</span> <span class="pre">=</span>
<span class="pre">'0'</span></code>) in the current clock cycle, then the request must be repeated in the
following clock cycle(s) until it is acknowledged, i.e., the pipeline must
stall.</p>
<p>A cache access is completed when it is acknowledged. A new request can be
issued in the following clock cycle.</p>
<p>Of course, <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code> may be asserted in the same clock cycle where the
request was issued if a read hit occurs. This allows a throughput of one
(read) request per clock cycle, but the drawback is, that <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code> has a
high propagation delay. Thus, this output should only control a simple
pipeline enable logic.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">cpu_got</span></code> is asserted for a read access, then the read data will be
available in the following clock cycle.</p>
<p>Due to the write-through policy, a write will always take several clock
cycles and acknowledged when the data has been issued to the memory.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the design is synthesized with Xilinx ISE / XST, then the synthesis
option ‚ÄúKeep Hierarchy‚Äù must be set to SOFT or TRUE.</p>
</div>
<p class="rubric">Entity Declaration:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="w">  </span><span class="k">generic</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="n">REPLACEMENT_POLICY</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w">   </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;LRU&quot;</span><span class="p">;</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="n">CACHE_LINES</span><span class="w">        </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="n">ASSOCIATIVITY</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="w">    </span><span class="n">CPU_DATA_BITS</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>
<span class="linenos"> 6</span><span class="w">    </span><span class="n">MEM_ADDR_BITS</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="n">MEM_DATA_BITS</span><span class="w">      </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span>
<span class="linenos"> 8</span><span class="w">  </span><span class="p">);</span>
<span class="linenos"> 9</span><span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="linenos">10</span><span class="w">    </span><span class="n">clk</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w"> </span><span class="c1">-- clock</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">rst</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w"> </span><span class="c1">-- reset</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="w">    </span><span class="c1">-- &quot;CPU&quot; side</span>
<span class="linenos">14</span><span class="w">    </span><span class="n">cpu_req</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">15</span><span class="w">    </span><span class="n">cpu_write</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">16</span><span class="w">    </span><span class="n">cpu_addr</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">unsigned</span><span class="p">(</span><span class="n">log2ceil</span><span class="p">(</span><span class="n">MEM_DATA_BITS</span><span class="o">/</span><span class="n">CPU_DATA_BITS</span><span class="p">)</span><span class="o">+</span><span class="n">MEM_ADDR_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">17</span><span class="w">    </span><span class="n">cpu_wdata</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">CPU_DATA_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">18</span><span class="w">    </span><span class="n">cpu_wmask</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">CPU_DATA_BITS</span><span class="o">/</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">19</span><span class="w">    </span><span class="n">cpu_got</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">20</span><span class="w">    </span><span class="n">cpu_rdata</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">CPU_DATA_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">21</span>
<span class="linenos">22</span><span class="w">    </span><span class="c1">-- Memory side</span>
<span class="linenos">23</span><span class="w">    </span><span class="n">mem_req</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">24</span><span class="w">    </span><span class="n">mem_write</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">25</span><span class="w">    </span><span class="n">mem_addr</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">unsigned</span><span class="p">(</span><span class="n">MEM_ADDR_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">26</span><span class="w">    </span><span class="n">mem_wdata</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">MEM_DATA_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">27</span><span class="w">    </span><span class="n">mem_wmask</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">MEM_DATA_BITS</span><span class="o">/</span><span class="mi">8</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="linenos">28</span><span class="w">    </span><span class="n">mem_rdy</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">29</span><span class="w">    </span><span class="n">mem_rstb</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span>
<span class="linenos">30</span><span class="w">    </span><span class="n">mem_rdata</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">MEM_DATA_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="linenos">31</span><span class="w">    </span><span class="p">);</span>
<span class="linenos">32</span><span class="k">end</span><span class="w"> </span><span class="k">entity</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="cache_mem.html#ip-cache-mem"><span class="std std-ref">PoC.cache.mem</span></a></p>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PoC.cache" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cache_mem.html" class="btn btn-neutral float-right" title="PoC.cache.mem" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2016 Technische Universitaet Dresden - Germany, Chair of VLSI-Design, Diagnostics and Architecture.
      <span class="lastupdated">Last updated on 20.06.2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>