

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PoC.mem.ocram.tdp &mdash; The PoC-Library 2.2.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=55b73dce" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-reports.089ed2e62f89368aa21ac7591d90c12a.css?v=83177741" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/override.css?v=909d6fac" />

  
    <link rel="shortcut icon" href="../../../_static/The-PoC-Library-FavIcon.png"/>
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=b21de401"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="PoC.mem.ocram.tdp_wf" href="ocram_tdp_wf.html" />
    <link rel="prev" title="PoC.mem.ocram.sdp_wf" href="ocram_sdp_wf.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/The-PoC-Library-Icon.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../WhatIsPoC/index.html">What is PoC?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../QuickStart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../GetInvolved/index.html">Get Involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/Licenses/License.html">Apache License 2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/Licenses/Doc-License.html">Creative Commons Attribution 4.0 International</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../UsingPoC/index.html">Using PoC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Interfaces/index.html">IP Core Interfaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Miscelaneous/ThirdParty.html">Third Party Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ConstraintFiles/index.html">Constraint Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ToolChains/index.html">Tool Chain Specifics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Examples/index.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">IP Cores</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../alt/index.html">PoC.alt.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../arith/index.html">PoC.arith.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bus/index.html">PoC.bus.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cache/index.html">PoC.cache.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../comm/index.html">PoC.comm.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dstruct/index.html">PoC.dstruct.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fifo/index.html">PoC.fifo.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../io/index.html">PoC.io.*</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">PoC.mem.*</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../mem.pkg.html">Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lut/index.html">lut</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">ocram</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ocram.pkg.html">Package</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_sp.html">ocram_sp</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_sdp.html">ocram_sdp</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_sdp_wf.html">ocram_sdp_wf</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ocram_tdp</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_tdp_wf.html">ocram_tdp_wf</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_tdp_sim.html">ocram_tdp_sim</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocram_esdp.html">ocram_esdp</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ocrom/index.html">ocrom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sdram/index.html">sdram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../misc/index.html">PoC.misc.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../net/index.html">PoC.net.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sort/index.html">PoC.sort.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sync/index.html">PoC.sync.*</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xil/index.html">PoC.xil.*</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../common/components.html">PoC.components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/context.html">PoC.context</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/config.html">PoC.config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/fileio.html">PoC.fileio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/math.html">PoC.math</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/strings.html">PoC.strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/utils.html">PoC.utils</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/vectors.html">PoC.vectors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References and Reports</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../unittests/index.html">Unittest Summary Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../unittests/index.html#osvvm-libraries-build-report">OSVVM Libraries Build Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/CommandReference.html">Command Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/Database.html">IP Core Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../PyInfrastructure/index.html">Python Infrastructure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../References/more.html">More ...</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../ChangeLog/index.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The PoC-Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">PoC.mem</a></li>
          <li class="breadcrumb-item"><a href="index.html">PoC.mem.ocram</a></li>
      <li class="breadcrumb-item active">PoC.mem.ocram.tdp</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/IPCores/mem/ocram/ocram_tdp.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="poc-mem-ocram-tdp">
<span id="ip-ocram-tdp"></span><h1>PoC.mem.ocram.tdp<a class="headerlink" href="#poc-mem-ocram-tdp" title="Link to this heading"></a></h1>
<aside class="sidebar">
<p class="sidebar-title">GitHub Links</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/src/mem/ocram/ocram_tdp.vhdl"><img alt="Source Code on GitHub" src="../../../_images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="extlink-pocsrc reference external" href="https://github.com/VHDL/The PoC-Library/blob/master/src/mem/ocram/ocram_tdp.vhdl?ts=2">Sourcecode</a></p></li>
<li><p><a class="reference external" href="https://github.com/VLSI-EDA/PoC/blob/master/tb/mem/ocram/ocram_tdp_tb.vhdl"><img alt="Source Code on GitHub" src="../../../_images/GitHub-Mark-32px.png" style="width: 12.8px; height: 12.8px;" /></a> <a class="extlink-poctb reference external" href="https://github.com/VHDL/The PoC-Library/blob/master/tb/mem/ocram/ocram_tdp_tb.vhdl?ts=2">Testbench</a></p></li>
</ul>
</aside>
<p>Inferring / instantiating true dual-port memory, with:</p>
<ul class="simple">
<li><p>dual clock, clock enable,</p></li>
<li><p>2 read/write ports.</p></li>
</ul>
<p>Command truth table for port 1, same applies to port 2:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>ce1</p></th>
<th class="head"><p>we1</p></th>
<th class="head"><p>Command</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>X</p></td>
<td><p>No operation</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>Read from memory</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>Write to memory</p></td>
</tr>
</tbody>
</table>
<p>Both reading and writing are synchronous to the rising-edge of the clock.
Thus, when reading, the memory data will be outputted after the
clock edge, i.e, in the following clock cycle.</p>
<p>The generalized behavior across Altera and Xilinx FPGAs since
Stratix/Cyclone and Spartan-3/Virtex-5, respectively, is as follows:</p>
<dl>
<dt>Same-Port Read-During-Write</dt><dd><p>When writing data through port 1, the read output of the same port
(<code class="docutils literal notranslate"><span class="pre">q1</span></code>) will output the new data (<code class="docutils literal notranslate"><span class="pre">d1</span></code>, in the following clock cycle)
which is aka. “write-first behavior”.</p>
<p>Same applies to port 2.</p>
</dd>
<dt>Mixed-Port Read-During-Write</dt><dd><p>When reading at the write address, the read value will be unknown which is
aka. “don’t care behavior”. This applies to all reads (at the same
address) which are issued during the write-cycle time, which starts at the
rising-edge of the write clock and (in the worst case) extends
until the next rising-edge of that write clock.</p>
</dd>
</dl>
<p>For simulation, always our dedicated simulation model <a class="reference internal" href="ocram_tdp_sim.html#ip-ocram-tdp-sim"><span class="std std-ref">PoC.mem.ocram.tdp_sim</span></a>
is used.</p>
<p class="rubric">Entity Declaration:</p>
<div class="highlight-vhdl notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="w">  </span><span class="k">generic</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 2</span><span class="w">    </span><span class="n">A_BITS</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span><span class="w">                             </span><span class="c1">-- number of address bits</span>
<span class="linenos"> 3</span><span class="w">    </span><span class="n">D_BITS</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="kt">positive</span><span class="p">;</span><span class="w">                             </span><span class="c1">-- number of data bits</span>
<span class="linenos"> 4</span><span class="w">    </span><span class="n">FILENAME</span><span class="w">  </span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w">    </span><span class="o">:=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="w">                       </span><span class="c1">-- file-name for RAM initialization</span>
<span class="linenos"> 5</span><span class="w">  </span><span class="p">);</span>
<span class="linenos"> 6</span><span class="w">  </span><span class="k">port</span><span class="w"> </span><span class="p">(</span>
<span class="linenos"> 7</span><span class="w">    </span><span class="n">clk1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- clock for 1st port</span>
<span class="linenos"> 8</span><span class="w">    </span><span class="n">clk2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- clock for 2nd port</span>
<span class="linenos"> 9</span><span class="w">    </span><span class="n">ce1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- clock-enable for 1st port</span>
<span class="linenos">10</span><span class="w">    </span><span class="n">ce2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- clock-enable for 2nd port</span>
<span class="linenos">11</span><span class="w">    </span><span class="n">we1</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- write-enable for 1st port</span>
<span class="linenos">12</span><span class="w">    </span><span class="n">we2</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w">  </span><span class="kt">std_logic</span><span class="p">;</span><span class="w">                              </span><span class="c1">-- write-enable for 2nd port</span>
<span class="linenos">13</span><span class="w">    </span><span class="n">a1</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">unsigned</span><span class="p">(</span><span class="n">A_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">            </span><span class="c1">-- address for 1st port</span>
<span class="linenos">14</span><span class="w">    </span><span class="n">a2</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">unsigned</span><span class="p">(</span><span class="n">A_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">            </span><span class="c1">-- address for 2nd port</span>
<span class="linenos">15</span><span class="w">    </span><span class="n">d1</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">    </span><span class="c1">-- write-data for 1st port</span>
<span class="linenos">16</span><span class="w">    </span><span class="n">d2</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">    </span><span class="c1">-- write-data for 2nd port</span>
<span class="linenos">17</span><span class="w">    </span><span class="n">q1</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w">   </span><span class="c1">-- read-data from 1st port</span>
<span class="linenos">18</span><span class="w">    </span><span class="n">q2</span><span class="w">   </span><span class="o">:</span><span class="w"> </span><span class="k">out</span><span class="w"> </span><span class="kt">std_logic_vector</span><span class="p">(</span><span class="n">D_BITS</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="k">downto</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">    </span><span class="c1">-- read-data from 2nd port</span>
<span class="linenos">19</span><span class="w">  </span><span class="p">);</span>
<span class="linenos">20</span><span class="k">end</span><span class="w"> </span><span class="k">entity</span><span class="p">;</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ocram_sdp_wf.html" class="btn btn-neutral float-left" title="PoC.mem.ocram.sdp_wf" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ocram_tdp_wf.html" class="btn btn-neutral float-right" title="PoC.mem.ocram.tdp_wf" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2016 Technische Universitaet Dresden - Germany, Chair of VLSI-Design, Diagnostics and Architecture.
      <span class="lastupdated">Last updated on 17.02.2026.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>